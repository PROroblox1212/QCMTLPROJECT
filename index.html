<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ERLC ‚Äî Panel Mod√©ration</title>
  <style>
    :root{
      --bg:#0b1220; --card:#11182a; --muted:#97a3b6; --text:#eef2ff; --accent:#5b9dff;
      --yellow:#fde047; --orange:#fb923c; --red:#ef4444; --black:#0b0b0b; --white:#f3f4f6;
      --ok:#22c55e; --warn:#f59e0b; --ring:rgba(91,157,255,.25);
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b1220,#0a1224 40%,#08101f);color:var(--text);font:18px/1.5 system-ui,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif}
    header{padding:28px 16px 0;display:flex;align-items:center;justify-content:center}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    h1{font-size:32px;margin:0 0 4px;letter-spacing:.2px}
    .sub{color:var(--muted);font-size:15px}

    /* top controls */
    .top{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:18px 0}
    select, input[type="text"]{background:#0f1629;color:var(--text);border:1px solid #1c2742;border-radius:12px;padding:12px 14px;outline:none;font-size:16px}
    select:focus, input:focus{box-shadow:0 0 0 4px var(--ring)}
    .pill{background:#0f1629;border:1px solid #1c2742;border-radius:999px;padding:10px 14px;display:inline-flex;gap:8px;align-items:center;font-size:16px}

    /* action tabs */
    .tabs{display:flex;gap:12px;margin:10px 0 18px}
    .tab{flex:1;background:#0f1629;border:1px solid #1c2742;border-radius:14px;padding:16px 20px;text-align:center;cursor:pointer;font-weight:700;letter-spacing:.5px;transition:transform .06s ease;font-size:18px}
    .tab:hover{transform:translateY(-1px)}
    .tab.active{background:#152246;border-color:#2a416f;box-shadow:0 6px 24px rgba(0,0,0,.25), inset 0 0 0 1px #355492}

    /* zones */
    .zone{background:var(--card);border:1px solid #1b243b;border-radius:16px;padding:16px 16px 12px;margin:12px 0}
    .zonehead{display:flex;align-items:center;gap:10px;margin-bottom:12px;font-size:18px}
    .badge{font-weight:800;border-radius:10px;padding:8px 12px;color:#0b1020;font-size:15px}
    .y{background:var(--yellow)} .o{background:var(--orange);color:#140a00} .r{background:var(--red);color:#1b0000}
    .k{background:#222;color:#fafafa;border:1px solid #444}
    .w{background:var(--white);color:#0b0f1a;border:1px solid #d1d5db}
    .need{font-size:14px;color:var(--muted)}

    /* reason buttons */
    .reasons{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
    .reason{background:#12203b;border:1px solid #1f2d51;border-radius:12px;padding:12px 14px;text-align:left;cursor:pointer;font-size:17px}
    .reason small{display:block;color:var(--muted);margin-top:6px;font-size:15px}
    .reason[disabled]{opacity:.45;cursor:not-allowed;filter:grayscale(20%)}

    /* toast */
    .toast{position:fixed;inset:auto 16px 16px auto;background:#0f1629;color:#e5f0ff;border:1px solid #274177;border-radius:12px;padding:12px 16px;box-shadow:0 10px 28px rgba(0,0,0,.35);opacity:0;transform:translateY(8px);transition:all .2s;font-size:16px}
    .toast.show{opacity:1;transform:none}

    /* guide card */
    .guide{margin-top:10px;background:#0f1629;border:1px dashed #263152;border-radius:14px;padding:14px 16px;color:#cfe0ff;font-size:16px}
    .guide b{color:#fff}

    /* composer */
    .composer{margin:16px 0 6px;display:flex;gap:8px;flex-wrap:wrap}
    textarea{width:100%;min-height:100px;background:#0f1629;color:var(--text);border:1px solid #1c2742;border-radius:12px;padding:12px 14px;font-size:16px}
    .btn{background:#1b2c4f;color:#e8f0ff;border:1px solid #2b4473;border-radius:12px;padding:12px 16px;cursor:pointer;font-size:16px}
  </style>
</head>
<body>
  <header>
    <div class="wrap" style="text-align:center">
      <h1>üìó ERLC ‚Äî Panel de Mod√©ration</h1>
      <div class="sub">Warn ‚Ä¢ Kick ‚Ä¢ Ban ‚Äî Copie instantan√©e des raisons | Zones & permissions int√©gr√©es</div>
    </div>
  </header>

  <main class="wrap">
    <!-- Top controls -->
    <div class="top">
      <label class="pill" title="Grade courant">
        <span>üéöÔ∏è Grade</span>
        <select id="role">
          <option>Mod√©rateur junior</option>
          <option>Mod√©rateur</option>
          <option selected>Administrateur+</option>
          <option>Co-fondateur+</option>
        </select>
      </label>
      <label class="pill" title="Filtrer par texte">
        <span>üîé Rechercher</span>
        <input id="search" type="text" placeholder="ex: RDM, exploit, m√©tagaming..." />
      </label>
      <span class="pill" title="Proc√©dure !mod">üß© Proc√©dure rapide !mod: Rejoindre, √©couter, v√©rifier, √©valuer, sanctionner, noter ‚Üí Melonly</span>
    </div>

    <!-- Action tabs -->
    <div class="tabs">
      <div class="tab active" data-tab="WARN">WARN</div>
      <div class="tab" data-tab="KICK">KICK</div>
      <div class="tab" data-tab="BAN">BAN</div>
    </div>

    <!-- Zones injected here -->
    <div id="zones"></div>

    <!-- Composer -->
    <div class="guide">
      <b>Rappel zones :</b> üü° 2‚Äì4 warns | üü† warn/kick | üî¥ kick/ban (Admin+) | ‚ö´ ban/blacklist (Co-fondateur+). Cas particulier : <b>:wanted</b> si retrait d‚Äôune team par un sup√©rieur.
    </div>

    <div class="composer">
      <textarea id="note" placeholder="Notes (preuve, ID, contexte, dur√©e, etc.)"></textarea>
      <button class="btn" id="copyNote">Copier la note</button>
    </div>
  </main>

  <div id="toast" class="toast">Copi√© ‚úÖ</div>

  <script>
    // ---------- Permissions par zone
    const roleOrder = ["Mod√©rateur junior","Mod√©rateur","Administrateur+","Co-fondateur+"];
    const zoneRequirements = {
      "üü°": "Mod√©rateur junior",
      "üü†": "Mod√©rateur junior",
      "üî¥": "Administrateur+",
      "‚ö´": "Co-fondateur+"
    };

    // ---------- Donn√©es des raisons
    const RULES = [
      {label:"Crime en safezone (spawns/postes/casernes)", zone:"üî¥"},
      {label:"Acc√®s zones int√©rieures police sans escorte", zone:"üü†"},
      {label:"Acc√®s zones int√©rieures casernes sans droit", zone:"üü†"},
      {label:"Auto-d√©fense HRP (usage abusif)", zone:"üü°"},
      {label:"Voiding abusif / sans accord", zone:"üü†"},
      {label:"Refus Crash RP sans accord", zone:"üü°"},
      {label:"Poursuite sans raison RP s√©rieuse", zone:"üü†"},
      {label:"Conduite irr√©aliste (jumps/sens inverse)", zone:"üü†"},
      {label:"Crashs non jou√©s (NoPain)", zone:"üü°"},
      {label:"Abus de fr√©quence radio", zone:"üü°"},
      {label:"Rassemblement HRP", zone:"üü†"},
      {label:"Sc√®ne prioritaire sans mod", zone:"üü°"},
      {label:"V√©hicule exotique sans autorisation WL", zone:"üü†"},
      {label:"Liveries non respect√©es", zone:"üü°"},
      {label:"Refus de RP sans raison valable", zone:"üü†"},
      {label:"Troll / NITRP", zone:"üü†"},
      {label:"Interf√©rence de sc√®ne RP/staff", zone:"üü°"},
      {label:"Metagaming", zone:"üü†"},
      {label:"Corruption RP dans services publics", zone:"üü†"},
      {label:"Avatar irr√©aliste", zone:"üü†"},
      {label:"GTA driving", zone:"üü†"},
      {label:"Bloquer la route sans raison m√©tier", zone:"üü†"},
      {label:"MTQ: ne laisse pas 1 voie par c√¥t√©", zone:"üü†"},
      {label:"Abus d‚Äôoutils (cones/stopsticks/taser‚Ä¶)", zone:"üü†"},
      {label:"Arme incoh√©rente avec r√¥le", zone:"üü°"},
      {label:"Gun motions", zone:"üü°"},
      {label:"Cuff motions correct (info)", zone:"üü°"},
      {label:"Cuff rush interdit", zone:"üü†"},
      {label:"RDM", zone:"üü†"},
      {label:"RDM en safezone", zone:"üî¥"},
      {label:"RDM sur staff", zone:"üî¥"},
      {label:"VDM (heurter expr√®s)", zone:"üü†"},
      {label:"FRP (irr√©alisme)", zone:"üü†"},
      {label:"Powergaming/FearRP/NoPain", zone:"üü†"},
      {label:"Car surfing", zone:"üü†"},
      {label:"NLR (retour sc√®ne apr√®s mort)", zone:"üü†"},
      {label:"Partenaires de crime >2 sans perm gang", zone:"üü†"},
      {label:"Gang/Entreprise sans autorisation", zone:"üü†"},
      {label:"TOS Roblox (contenu NSFW/choquant)", zone:"üü†"},
      {label:"Combat log (quitter pour √©viter)", zone:"üü†"},
      {label:"Fausse identit√© (uniforme/v√©hicule)", zone:"üü†"},
      {label:"Impersonation staff", zone:"üî¥"},
      {label:"√âvasion staff", zone:"üî¥"},
      {label:"√âvasion de ban (alt)", zone:"‚ö´"},
      {label:"Menaces serveur/joueur", zone:"‚ö´"},
      {label:"Abus staff (mauvais canal)", zone:"üü°"},
      {label:"Musique/soundboard/voice changer", zone:"üü°"},
      {label:"Appel mod inutile", zone:"üü°"},
      {label:"Refus d√©cisions du staff", zone:"üü†"},
      {label:"Manque de respect/harc√®lement", zone:"üî¥"},
      {label:"Spam/ping/pub sans autorisation", zone:"üü†"},
      {label:"Contenu NSFW ou choquant", zone:"üü†"},
      {label:"D√©bats HRP", zone:"üü°"},
      {label:"Abus bots/tickets", zone:"üü†"},
      {label:"Usurpation/double compte", zone:"üü†"},
      {label:"DM non sollicit√©s", zone:"üü†"},
      {label:"Mauvais salons", zone:"üü°"},
      {label:"Partage priv√© sans accord", zone:"üî¥"},
      {label:"Contournement sanction", zone:"üî¥"},
    ];

    const ZONE_INFO = {
      "üü°": {name:"Zone jaune ‚Äì Mineure", cls:"y", hint:"2‚Äì4 warns"},
      "üü†": {name:"Zone orange ‚Äì Moyenne", cls:"o", hint:"warn ou kick"},
      "üî¥": {name:"Zone rouge ‚Äì Grave", cls:"r", hint:"kick ou ban (Admin+)"},
      "‚ö´": {name:"Zone noire ‚Äì Tr√®s grave", cls:"k", hint:"ban ou blacklist (Co-fondateur+)"}
    };

    const ACTIONS = {
      WARN: ["üü°","üü†","üî¥"],
      KICK: ["üü†","üî¥"],
      BAN:  ["üî¥","‚ö´"],
    };

    const roleSel = document.getElementById('role');
    const search = document.getElementById('search');
    const zonesHost = document.getElementById('zones');
    const tabs = [...document.querySelectorAll('.tab')];
    const toast = document.getElementById('toast');
    let currentAction = 'WARN';

    tabs.forEach(t=>t.addEventListener('click',()=>{
      tabs.forEach(x=>x.classList.remove('active'));
      t.classList.add('active');
      currentAction = t.dataset.tab;
      render();
    }));

    roleSel.addEventListener('change', render);
    search.addEventListener('input', render);

    document.getElementById('copyNote').addEventListener('click',()=>{
      const txt = document.getElementById('note').value.trim();
      if(!txt){ return pop("Rien √† copier"); }
      copy(txt);
    });

    function isAllowed(zone, role){
      const need = zoneRequirements[zone];
      return roleOrder.indexOf(role) >= roleOrder.indexOf(need);
    }

    function render(){
      const role = roleSel.value;
      const q = search.value.toLowerCase();
      zonesHost.innerHTML = '';

      const zonesToShow = ACTIONS[currentAction];
      zonesToShow.forEach(z => {
        const info = ZONE_INFO[z];
        const sec = document.createElement('section');
        sec.className = 'zone';

        const head = document.createElement('div');
        head.className = 'zonehead';
        const badge = document.createElement('span');
        badge.className = 'badge '+info.cls;
        badge.textContent = z;
        const title = document.createElement('div');
        title.innerHTML = `<b>${info.name}</b> ¬∑ <span class="need">${info.hint}</span>`;
        head.appendChild(badge); head.appendChild(title);
        sec.appendChild(head);

        const grid = document.createElement('div');
        grid.className = 'reasons';

        RULES.filter(r => r.zone===z && (!q || r.label.toLowerCase().includes(q)))
             .forEach(r => {
               const btn = document.createElement('button');
               btn.className = 'reason';
               const allowed = isAllowed(r.zone, role);
               btn.disabled = !allowed;
               btn.innerHTML = `${r.label} <small>${allowed? 'Cliquer pour copier' : 'Non autoris√© pour votre grade'}</small>`;
               btn.addEventListener('click',()=>{
                 if(!allowed) return;
                 const text = `${currentAction} | ${r.label} | ${r.zone}`;
                 copy(text);
               });
               grid.appendChild(btn);
             });

        sec.appendChild(grid);
        zonesHost.appendChild(sec);
      });

      if(currentAction==='WARN'){
        const special = document.createElement('section');
        special.className='zone';
        special.innerHTML = `
          <div class="zonehead"><span class="badge w">‚ö™</span>
          <div><b>Cas particulier</b> ¬∑ <span class="need">Un sup√©rieur veut retirer un joueur d‚Äôune team ‚Üí <b>:wanted</b></span></div></div>
          <div class="reasons">
            <button class="reason" id="wantedBtn">Ins√©rer ":wanted"</button>
          </div>`;
        zonesHost.appendChild(special);
        special.querySelector('#wantedBtn').addEventListener('click',()=>copy(':wanted'));
      }
    }

    function copy(text){
      navigator.clipboard.writeText(text).then(()=>pop(`Copi√©: ${text}`));
    }
    function pop(msg){
      toast.textContent = msg; toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'),1400);
    }

    render();
  </script>
</body>
</html>
