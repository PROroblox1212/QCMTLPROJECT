<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ERLC ‚Äî Panel Mod√©ration</title>
  <style>
    :root{
      --bg:#0b1220; --card:#11182a; --muted:#97a3b6; --text:#eef2ff; --accent:#5b9dff;
      --yellow:#fde047; --orange:#fb923c; --red:#ef4444; --black:#0b0b0b; --white:#f3f4f6;
      --ok:#22c55e; --warn:#f59e0b; --ring:rgba(91,157,255,.25);
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b1220,#0a1224 40%,#08101f);color:var(--text);font:18px/1.5 system-ui,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif}
    header{padding:28px 16px 0;display:flex;align-items:center;justify-content:center}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    h1{font-size:32px;margin:0 0 4px;letter-spacing:.2px}
    .sub{color:var(--muted);font-size:15px}

    .top{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:18px 0}
    select, input[type="text"]{background:#0f1629;color:var(--text);border:1px solid #1c2742;border-radius:12px;padding:12px 14px;outline:none;font-size:16px}
    select:focus, input:focus{box-shadow:0 0 0 4px var(--ring)}
    .pill{background:#0f1629;border:1px solid #1c2742;border-radius:999px;padding:10px 14px;display:inline-flex;gap:8px;align-items:center;font-size:16px}
    
    .tabs{display:flex;gap:12px;margin:10px 0 18px}
    .tab{flex:1;background:#0f1629;border:1px solid #1c2742;border-radius:14px;padding:16px 20px;text-align:center;cursor:pointer;font-weight:700;letter-spacing:.5px;transition:transform .06s ease;font-size:18px}
    .tab:hover{transform:translateY(-1px)}
    .tab.active{background:#152246;border-color:#2a416f;box-shadow:0 6px 24px rgba(0,0,0,.25), inset 0 0 0 1px #355492}

    .zone{background:var(--card);border:1px solid #1b243b;border-radius:16px;padding:16px 16px 12px;margin:12px 0}
    .zonehead{display:flex;align-items:center;gap:10px;margin-bottom:12px;font-size:18px}
    .badge{font-weight:800;border-radius:10px;padding:8px 12px;color:#0b1020;font-size:15px}
    .y{background:var(--yellow)} .o{background:var(--orange);color:#140a00} .r{background:var(--red);color:#1b0000}
    .k{background:#222;color:#fafafa;border:1px solid #444}
    .w{background:var(--white);color:#0b0f1a;border:1px solid #d1d5db}
    .need{font-size:14px;color:var(--muted)}

    .reasons{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
    .reason{background:#12203b;border:1px solid #1f2d51;border-radius:12px;padding:12px 14px;text-align:left;cursor:pointer;font-size:17px;display:flex;flex-direction:column;align-items:flex-start;color:#56ffff;position:relative}
    .reason small{display:block;color:var(--muted);margin-top:8px;font-size:13px}
    .reason.active{border-color:var(--accent);background:#163152}

    .fav-btn{
      position:absolute;
      top:6px;right:6px;
      background:none;
      border:none;
      cursor:pointer;
      font-size:16px;
      color:#ffd700;
    }

    .controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-top:12px}
    .basket{background:#071126;border:1px solid #203a57;border-radius:12px;padding:10px 12px;font-size:16px;min-width:260px}
    .smallbtn{background:#1b2c4f;color:#e8f0ff;border:1px solid #2b4473;border-radius:10px;padding:8px 12px;cursor:pointer;font-size:14px}

    .guide{margin-top:10px;background:#0f1629;border:1px dashed #263152;border-radius:14px;padding:14px 16px;color:#cfe0ff;font-size:16px}
    .composer{margin:16px 0 6px;display:flex;gap:8px;flex-wrap:wrap}
    textarea{width:100%;min-height:100px;background:#0f1629;color:var(--text);border:1px solid #1c2742;border-radius:12px;padding:12px 14px;font-size:16px}
    .btn{background:#1b2c4f;color:#e8f0ff;border:1px solid #2b4473;border-radius:12px;padding:12px 16px;cursor:pointer;font-size:16px}

    .toast{position:fixed;inset:auto 16px 16px auto;background:#0f1629;color:#e5f0ff;border:1px solid #274177;border-radius:12px;padding:12px 16px;box-shadow:0 10px 28px rgba(0,0,0,.35);opacity:0;transform:translateY(8px);transition:all .2s;font-size:16px;z-index:999}
    .toast.show{opacity:1;transform:none}

    .flex{display:flex;gap:12px;align-items:center}

    /* Favoris */
    .fav-container {
      position: fixed;
      top: 120px;
      width: 160px;
      background: var(--card);
      border: 1px solid #1c2742;
      border-radius: 12px;
      padding: 10px;
      font-size: 14px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    #favLeft { left: 10px; }
    #favRight { right: 10px; }
    .fav-item {
      background:#0f1629;
      border:1px solid #1c2742;
      border-radius:8px;
      padding:6px 8px;
      cursor:pointer;
      font-size:14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .fav-item span { flex:1; }
    .fav-remove {
      background:none;
      border:none;
      color:#ef4444;
      font-weight:bold;
      cursor:pointer;
      margin-left:6px;
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap" style="text-align:center">
      <h1>üìó ERLC ‚Äî Panel de Mod√©ration</h1>
      <div class="sub">Warn ‚Ä¢ Kick ‚Ä¢ Ban ‚Äî S√©lection multiple + corrections notes</div>
    </div>
  </header>

  <main class="wrap">
    <div class="top">
      <label class="pill" title="Grade courant">
        <span>üéöÔ∏è Grade</span>
        <select id="role">
          <option>Mod√©rateur junior</option>
          <option>Mod√©rateur</option>
          <option selected>Administrateur+</option>
          <option>Co-fondateur+</option>
        </select>
      </label>
      <label class="pill" title="Filtrer par texte">
        <span>üîé Rechercher</span>
        <input id="search" type="text" placeholder="ex: RDM, exploit, m√©tagaming..." />
      </label>
      <div style="margin-left:auto" class="flex">
        <div class="pill">üß© Proc√©dure !mod: Rejoindre ‚Ä¢ √âcouter ‚Ä¢ V√©rifier ‚Ä¢ √âvaluer ‚Ä¢ Sanctionner ‚Ä¢ Noter ‚Üí Melonly</div>
      </div>
    </div>

    <div class="tabs">
      <div class="tab active" data-tab="WARN">WARN</div>
      <div class="tab" data-tab="KICK">KICK</div>
      <div class="tab" data-tab="BAN">BAN</div>
    </div>

    <div id="zones"></div>

    <div class="controls" style="margin-top:8px">
      <div id="basket" class="basket">Aucune s√©lection</div>
      <button id="copyBasket" class="smallbtn">üìã Copier s√©lection</button>
      <button id="clearBasket" class="smallbtn">üóëÔ∏è Vider s√©lection</button>
      <div style="margin-left:auto" class="flex">
        <button id="copyAll" class="btn">‚úÖ Copier (r√®gles + notes)</button>
      </div>
    </div>

    <div class="guide" style="margin-top:16px">
      <b>Rappel zones :</b> üü° 2‚Äì4 warns | üü† warn/kick | üî¥ kick/ban (Admin+) | ‚ö´ ban/blacklist (Co-fondateur+). Cas particulier : <b>:wanted</b>
    </div>

    <div class="composer">
      <textarea id="note" placeholder="Notes (preuve, ID, contexte, dur√©e, etc.)"></textarea>
      <button class="btn" id="copyNote">Copier la note</button>
    </div>
  </main>

  <!-- Conteneurs favoris -->
  <div id="favLeft" class="fav-container"></div>
  <div id="favRight" class="fav-container"></div>

  <div id="toast" class="toast">Copi√© ‚úÖ</div>

  <script>
    /* --------------------- DONN√âES --------------------- */
    const RULES = [
      {label:"Crime en safezone (spawns, postes, casernes)", zone:"üü°"},
      {label:"Zones int√©rieures police sans escorte", zone:"üü†"},
      {label:"Zones int√©rieures casernes r√©serv√©es (pompiers)", zone:"üü†"},
      {label:"Auto-d√©fense HRP sans pr√©venir mod (usage abusif)", zone:"üü°"},
      {label:"Voiding sans accord", zone:"üü†"},
      {label:"Crash RP sans accord (refus)", zone:"üü°"},
      {label:"Fuite sans raison RP s√©rieuse", zone:"üü†"},
      {label:"Conduite irr√©aliste (jumps, sens inverse)", zone:"üü†"},
      {label:"Crashs non jou√©s (NoPain)", zone:"üü°"},
      {label:"Abus de fr√©quence radio", zone:"üü°"},
      {label:"Rassemblements HRP", zone:"üü†"},
      {label:"Sc√®ne prioritaire sans mod", zone:"üü°"},
      {label:"V√©hicule exotique sans WL", zone:"üü†"},
      {label:"Liveries non respect√©es", zone:"üü°"},
      {label:"Refus de RP sans raison valide", zone:"üü†"},
      {label:"Troll / NITRP", zone:"üü†"},
      {label:"Interf√©rence de sc√®ne RP/staff", zone:"üü°"},
      {label:"Metagaming (info hors RP)", zone:"üü†"},
      {label:"Corruption RP (police, pompier, param√©dic, MTQ)", zone:"üü†"},
      {label:"Avatar irr√©aliste (costumes/t√™tes/peau)", zone:"üü†"},
      {label:"GTA driving (aucune r√®gle de la route)", zone:"üü†"},
      {label:"Bloquer la route sans raison m√©tier", zone:"üü†"},
      {label:"MTQ: ne pas laisser 1 voie par c√¥t√©", zone:"üü†"},
      {label:"Abus d'outils (cones, stopsticks, taser...)", zone:"üü†"},
      {label:"Arme incoh√©rente avec r√¥le", zone:"üü°"},
      {label:"Gun motions", zone:"üü°"},
      {label:"Cuff motions (utilisation correcte)", zone:"üü°"},
      {label:"Cuff rush (interdit si pas de raison/arm√©/mobilit√©)", zone:"üü†"},
      {label:"RDM (attaque sans avertissement)", zone:"üü†"},
      {label:"RDM en safezone (instant ban)", zone:"üî¥"},
      {label:"RDM sur staff (instant ban)", zone:"üî¥"},
      {label:"VDM (heurter expr√®s avec v√©hicule)", zone:"üü†"},
      {label:"FRP (irr√©alisme)", zone:"üü†"},
      {label:"Powergaming/FearRP/NoPain", zone:"üü†"},
      {label:"Car surfing (sauter sur v√©hicule)", zone:"üü†"},
      {label:"NLR (retour sur sc√®ne apr√®s mort)", zone:"üü†"},
      {label:"Partenaires de crime >2 sans permission gang", zone:"üü†"},
      {label:"Gang/Entreprise sans autorisation", zone:"üü†"},
      {label:"TOS Roblox (contenu NSFW/choquant)", zone:"üü†"},
      {label:"Combat log (quitter pour √©viter sc√®ne)", zone:"üü†"},
      {label:"Fausse identit√© (uniforme/v√©hicule non autoris√©)", zone:"üü†"},
      {label:"Impersonation staff", zone:"üî¥"},
      {label:"√âvasion staff (quitter pour √©viter sanction)", zone:"üî¥"},
      {label:"√âvasion de ban (alt)", zone:"‚ö´"},
      {label:"Menaces serveur/joueur (DDoS, Dox, pub malveillante)", zone:"‚ö´"},
      {label:"Abus staff (signaler via ticket)", zone:"üü°"},
      {label:"Musique / soundboard / voice changer sans autorisation", zone:"üü°"},
      {label:"Appel mod inutile", zone:"üü°"},
      {label:"Refuser d√©cisions du staff", zone:"üü†"},
      {label:"Manque de respect / harc√®lement", zone:"üî¥"},
      {label:"Spam / ping / pub sans autorisation", zone:"üü†"},
      {label:"Contenu NSFW ou choquant", zone:"üü†"},
      {label:"D√©bats HRP", zone:"üü°"},
      {label:"Abus bots / tickets", zone:"üü†"},
      {label:"Usurpation / double compte", zone:"üü†"},
      {label:"DM non sollicit√©s", zone:"üü†"},
      {label:"Mauvais salons (mauvaise section)", zone:"üü°"},
      {label:"Partage priv√© sans accord", zone:"üî¥"},
      {label:"Contournement sanction", zone:"üî¥"},
      {label:"GTA driving", zone:"üü†"},
      {label:"Cuff Rush", zone:"üü†"},
      {label:"RDM staff", zone:"üî¥"},
      {label:"Anglais,", zone:"üî¥"}
    ];

    const ZONE_INFO = {
      "üü°": {name:"Zone jaune ‚Äì Mineure", cls:"y", hint:"2‚Äì4 warns"},
      "üü†": {name:"Zone orange ‚Äì Moyenne", cls:"o", hint:"warn ou kick"},
      "üî¥": {name:"Zone rouge ‚Äì Grave", cls:"r", hint:"kick ou ban (Admin+)"},
      "‚ö´": {name:"Zone noire ‚Äì Tr√®s grave", cls:"k", hint:"ban ou blacklist (Co-fondateur+)"}
    };

    const ACTIONS = {WARN:["üü°","üü†","üî¥"], KICK:["üü†","üî¥"], BAN:["üî¥","‚ö´"]};
    const roleOrder = ["Mod√©rateur junior","Mod√©rateur","Administrateur+","Co-fondateur+"];
    const zoneRequirements = {"üü°":"Mod√©rateur junior","üü†":"Mod√©rateur junior","üî¥":"Administrateur+","‚ö´":"Co-fondateur+"};

    const roleSel = document.getElementById('role');
    const search = document.getElementById('search');
    const zonesHost = document.getElementById('zones');
    const tabs = [...document.querySelectorAll('.tab')];
    const toast = document.getElementById('toast');
    const basketEl = document.getElementById('basket');

    let currentAction = 'WARN';
    let basket = []; 

    /* --------------------- FAVORIS --------------------- */
    let favorites = JSON.parse(localStorage.getItem("favorites") || "[]");

    function saveFavorites(){
      localStorage.setItem("favorites", JSON.stringify(favorites));
      renderFavorites();
    }

    function addFavorite(label){
      if(favorites.length >= 10) { pop("Max 10 favoris"); return; }
      if(favorites.includes(label)) { pop("D√©j√† en favoris"); return; }
      favorites.push(label);
      saveFavorites();
      pop("Ajout√© aux favoris ‚úÖ");
    }

    function removeFavorite(label){
      favorites = favorites.filter(f => f !== label);
      saveFavorites();
      pop("Favori retir√©");
    }

    function renderFavorites(){
      const left = document.getElementById("favLeft");
      const right = document.getElementById("favRight");
      left.innerHTML = ""; right.innerHTML = "";
      favorites.forEach((f, i) => {
        const div = document.createElement("div");
        div.className = "fav-item";
        div.innerHTML = `<span>${f}</span><button class="fav-remove">√ó</button>`;
        div.onclick = () => toggleBasket(f);
        div.querySelector("button").onclick = e => { e.stopPropagation(); removeFavorite(f); };
        if(i < 5) left.appendChild(div);
        else right.appendChild(div);
      });
    }

    /* --------------------- PANNEAU --------------------- */
    function render(){
      zonesHost.innerHTML = '';
      const role = roleSel.value;
      const filter = search.value.toLowerCase();
      const zones = {};

      for(const r of RULES){
        if(!ACTIONS[currentAction].includes(r.zone)) continue;
        if(filter && !r.label.toLowerCase().includes(filter)) continue;
        if(roleOrder.indexOf(role) < roleOrder.indexOf(zoneRequirements[r.zone])) continue;
        (zones[r.zone] ||= []).push(r.label);
      }

      for(const z of ACTIONS[currentAction]){
        if(!zones[z]) continue;
        const {name, cls, hint} = ZONE_INFO[z];
        const sec = document.createElement('div');
        sec.className = 'zone';
        sec.innerHTML = `<div class="zonehead"><div class="badge ${cls}">${z}</div><div>${name}</div><div class="need">${hint}</div></div>`;
        const list = document.createElement('div');
        list.className = 'reasons';
        zones[z].forEach(label=>{
          const card = document.createElement('div');
          card.className = 'reason';
          card.innerHTML = label + `<button class="fav-btn" title="Ajouter aux favoris">‚òÖ</button>`;
          if(basket.includes(label)) card.classList.add('active');
          card.onclick = e => { if(e.target.tagName!=="BUTTON") toggleBasket(label); };
          card.querySelector("button").onclick = e => { e.stopPropagation(); addFavorite(label); };
          list.appendChild(card);
        });
        sec.appendChild(list);
        zonesHost.appendChild(sec);
      }
    }

    function toggleBasket(label){
      if(basket.includes(label)) basket = basket.filter(x=>x!==label);
      else basket.push(label);
      render();
      updateBasket();
    }

    function updateBasket(){
      basketEl.textContent = basket.length ? "S√©lection : " + basket.join(', ') : "Aucune s√©lection";
    }

    function copy(txt){
      navigator.clipboard.writeText(txt).then(()=>{toast.textContent="Copi√© ‚úÖ";toast.classList.add('show');setTimeout(()=>toast.classList.remove('show'),1800);});
    }
    function pop(msg){toast.textContent=msg;toast.classList.add('show');setTimeout(()=>toast.classList.remove('show'),1800);}

    /* --------------------- INIT --------------------- */
    tabs.forEach(t=>t.onclick=()=>{tabs.forEach(x=>x.classList.remove('active'));t.classList.add('active');currentAction=t.dataset.tab;render();});
    roleSel.onchange = render;
    search.oninput = render;

    document.getElementById('copyBasket').onclick=()=>basket.length?copy(basket.join(', ')):pop("Panier vide");
    document.getElementById('clearBasket').onclick=()=>{basket=[];render();updateBasket();};
    document.getElementById('copyAll').onclick=()=>{const note=document.getElementById('note').value;copy([basket.join(', '),note].filter(Boolean).join('\n'));};
    document.getElementById('copyNote').onclick=()=>{const n=document.getElementById('note').value;if(n)copy(n);};

    render();
    updateBasket();
    renderFavorites();
  </script>
</body>
</html>
